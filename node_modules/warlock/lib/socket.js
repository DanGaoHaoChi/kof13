var io;
var config;
try {
    config = require(process.cwd() + '/config/socket');
} catch(e) {
    config = {
        'def' : 'hall'
    };
}
var c;
exports.init = function(compound){
    c = compound;
    c.websockets = {};
    io = require('socket.io').listen(c.server);
    io.sockets.on('connection', function (socket) {
        socket.on('hall', function (data) {
            console.log(data);
            socket.broadcast.emit('hall', data);
        });
    });
}